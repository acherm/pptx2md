# 
Domain-Specific Languages
 * Mathieu Acher
 * Maître de Conférences
 * mathieu.acher@irisa.fr
<img src="imgs/image1.jpg" width=195.13968503937008 height=79.37889763779528 />
<img src="imgs/image2.jpg" width=264.2032283464567 height=94.23244094488189 />
---
Material
 * 	
 * 	
 * git clone
 * https://github.com/acherm/teaching-MDE-IL1819  
---
 * IDM (MDE)
 * in practice
---
<img src="imgs/image3.png" width=720.0 height=534.2608661417323 />
---
<img src="imgs/image4.png" width=720.0 height=441.6 />
# Online Generator
---
# Variant
<img src="imgs/image5.png" width=720.0 height=251.36094488188976 />
Guillaume Bécan, Mathieu Acher, Jean-Marc Jézéquel, and Thomas Menguy. On the Variability Secrets of an Online Video Generator (2015). In VaMoS'15
---
---
<img src="imgs/image6.png" width=300.0 height=300.0 />
<img src="imgs/image7.png" width=175.7675590551181 height=98.1748031496063 />
<img src="imgs/image8.png" width=187.10740157480316 height=105.61259842519685 />
<img src="imgs/image9.png" width=181.96346456692913 height=102.05858267716535 />
<img src="imgs/image10.png" width=152.2596062992126 height=85.0488188976378 />
<img src="imgs/image11.png" width=153.08787401574804 height=85.65826771653543 />
<img src="imgs/image12.png" width=184.2324409448819 height=102.86314960629922 />
<img src="imgs/image13.png" width=189.9023622047244 height=107.26700787401575 />
<img src="imgs/image14.png" width=184.2324409448819 height=102.86314960629922 />
<img src="imgs/image15.png" width=175.7675590551181 height=98.1748031496063 />
<img src="imgs/image16.png" width=152.2596062992126 height=85.0488188976378 />
 * Generator
 * ~ composition of video sequences
### video variants
---
<img src="imgs/image17.png" width=300.0 height=300.0 />
<img src="imgs/image18.png" width=295.0 height=161.0 />
<img src="imgs/image19.png" width=294.0 height=158.0 />
<img src="imgs/image20.png" width=292.0 height=165.0 />
<img src="imgs/image21.png" width=293.0 height=163.0 />
<img src="imgs/image22.png" width=289.0 height=159.0 />
<img src="imgs/image23.png" width=205.1212598425197 height=116.91212598425197 />
<img src="imgs/image24.png" width=170.0976377952756 height=97.02748031496063 />
<img src="imgs/image25.png" width=175.7675590551181 height=97.78196850393701 />
<img src="imgs/image26.png" width=170.3728346456693 height=97.18448818897637 />
<img src="imgs/image27.png" width=162.30661417322835 height=88.58086614173229 />
 * Generator
 * ~ composition of video sequences
### video variants
---
<img src="imgs/image28.png" width=118.83165354330708 height=63.86188976377953 />
<img src="imgs/image29.png" width=118.02314960629921 height=66.69118110236221 />
<img src="imgs/image30.png" width=118.42740157480316 height=65.88283464566929 />
<img src="imgs/image31.png" width=116.81062992125985 height=64.26606299212598 />
<img src="imgs/image32.png" width=82.90787401574804 height=47.254645669291335 />
<img src="imgs/image33.png" width=68.75165354330709 height=39.21748031496063 />
<img src="imgs/image34.png" width=127.97905511811024 height=71.48259842519685 />
<img src="imgs/image35.png" width=136.23582677165354 height=76.89818897637795 />
<img src="imgs/image36.png" width=132.49047244094487 height=74.31047244094488 />
<img src="imgs/image37.png" width=110.86259842519685 height=61.925354330708664 />
<img src="imgs/image38.png" width=111.46566929133859 height=62.369133858267716 />
<img src="imgs/image39.png" width=134.14259842519684 height=74.89629921259842 />
<img src="imgs/image40.png" width=138.27094488188976 height=78.10283464566929 />
<img src="imgs/image41.png" width=119.23582677165355 height=65.07448818897637 />
<img src="imgs/image42.png" width=433.70897637795275 height=198.14551181102362 />
<img src="imgs/image43.png" width=121.89094488188977 height=202.9951968503937 />
<img src="imgs/image44.png" width=202.9511811023622 height=109.61866141732284 />
 * Website/online
 * Random generation
 * Configurator
 * Game
 * …
---
<img src="imgs/image45.png" width=168.0 height=174.0 />
<img src="imgs/image46.png" width=68.0 height=66.0 />
<img src="imgs/image47.png" width=64.0 height=67.0 />
<img src="imgs/image48.png" width=74.0 height=67.0 />
<img src="imgs/image49.jpg" width=175.7675590551181 height=103.18094488188976 />
<img src="imgs/image50.png" width=198.44724409448818 height=53.15551181102362 />
<img src="imgs/image51.png" width=118.83165354330708 height=63.86188976377953 />
<img src="imgs/image52.png" width=118.02314960629921 height=66.69118110236221 />
<img src="imgs/image53.png" width=118.42740157480316 height=65.88283464566929 />
<img src="imgs/image54.png" width=116.81062992125985 height=64.26606299212598 />
<img src="imgs/image55.png" width=82.90787401574804 height=47.254645669291335 />
<img src="imgs/image56.png" width=68.75165354330709 height=39.21748031496063 />
<img src="imgs/image57.png" width=127.97905511811024 height=71.48259842519685 />
<img src="imgs/image58.png" width=136.23582677165354 height=76.89818897637795 />
<img src="imgs/image59.png" width=132.49047244094487 height=74.31047244094488 />
<img src="imgs/image60.png" width=110.86259842519685 height=61.925354330708664 />
<img src="imgs/image61.png" width=111.46566929133859 height=62.369133858267716 />
<img src="imgs/image62.png" width=134.14259842519684 height=74.89629921259842 />
<img src="imgs/image63.png" width=138.27094488188976 height=78.10283464566929 />
<img src="imgs/image64.png" width=119.23582677165355 height=65.07448818897637 />
<img src="imgs/image65.png" width=433.70897637795275 height=198.14551181102362 />
---
<img src="imgs/image66.png" width=98.53929133858267 height=102.05858267716535 />
<img src="imgs/image67.png" width=68.0 height=66.0 />
<img src="imgs/image68.png" width=64.0 height=67.0 />
<img src="imgs/image69.png" width=74.0 height=67.0 />
<img src="imgs/image70.jpg" width=175.7675590551181 height=103.18094488188976 />
<img src="imgs/image71.png" width=198.44724409448818 height=53.15551181102362 />
<img src="imgs/image72.png" width=433.70897637795275 height=198.14551181102362 />
## #1 How to design, create, and  support dedicated languages (DSLs)?
## #2 How to transform models/programs?
## #4 How do frameworks internally work?
## #3 How to manage variability/variants? 
---
<img src="imgs/image73.png" width=98.53929133858267 height=102.05858267716535 />
<img src="imgs/image74.png" width=68.0 height=66.0 />
<img src="imgs/image75.png" width=64.0 height=67.0 />
<img src="imgs/image76.png" width=74.0 height=67.0 />
<img src="imgs/image77.jpg" width=175.7675590551181 height=103.18094488188976 />
<img src="imgs/image78.png" width=198.44724409448818 height=53.15551181102362 />
<img src="imgs/image79.png" width=433.70897637795275 height=198.14551181102362 />
## #1 How to design, create, and  support dedicated languages (DSLs)?
## #2 How to transform models/programs?
## #4 How do frameworks internally work?
## #3 How to manage variability/variants? 
---
# Plan
 * Domain-Specific Languages (DSLs)
   * Languages and abstraction gap
   * Examples and rationale
   * DSLs vs General purpose languages, taxonomy
 * External DSLs
   * Grammar and parsing
   * Xtext
 * DSLs, DSMLs, and (meta-)modeling
---
# Contract
 * Better understanding/source of inspiration of software languages and DSLs
   * Revisit of history and existing languages
 * Foundations and practice of Xtext
   * State-of-the-art language workbench (Most Innovative Eclipse Project in 2010, mature and  used in a variety of industries)
 * Models and Languages
   * Perhaps a more concrete way to see models, metamodels and MDE (IDM in french)
---
 * What are DSLs
 * Where are DSLs
 * Why DSLs (will) matter
---
The (Hi)Story of Software Engineering / Computer Science
<img src="imgs/image80.gif" width=397.3083464566929 height=272.15622047244096 />
<img src="imgs/image81.jpg" width=243.80661417322835 height=282.3596062992126 />
---
 * Infinite tape divided into Cells (0 or 1)
 * Read-Write Head
 * Transitition rules
<img src="imgs/image82.gif" width=776.7792125984251 height=163.00291338582676 />
Turing Machine 

<img src="imgs/image83.png" width=564.0 height=72.0 />
<img src="imgs/image84.png" width=72.21905511811023 height=54.82771653543307 />
 * Write a symbol
 * or move to left (>>) or right (<<) 
---
## Turing Machine 
~ kind of state machine
---
##  Successor (add-one) function 
assuming that  number n as a block of n+1 copies of the symbol ‘1’ on the tape (here, n=3)
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
---
Question: what does it compute?
---
 * function succ (n) {
 * 	return n + 1;
 * }
## (lambda (x) (+ x 1))
---
##  Successor (add-one) function 
assuming that  number n as a block of n+1 copies of the symbol ‘1’ on the tape (here, n=3)
---
Addition of n+m
<img src="imgs/image85.gif" width=754.9700787401575 height=222.91141732283464 />
 * http://graphics.stanford.edu/~seander/bithacks.html
 * Maybe you prefer to use bit operations?
---
The (Hi)Story of Software Engineering / Computer Science
<img src="imgs/image86.gif" width=337.3203149606299 height=70.78488188976378 />
<img src="imgs/image87.jpg" width=229.18417322834645 height=181.43748031496062 />
<img src="imgs/image88.png" width=167.99590551181103 height=110.37409448818897 />
<img src="imgs/image89.jpg" width=141.748031496063 height=141.748031496063 />
<img src="imgs/image90.png" width=272.15622047244096 height=50.621102362204724 />
<img src="imgs/image91.png" width=226.7968503937008 height=78.34803149606299 />
<img src="imgs/image92.jpg" width=136.07811023622048 height=136.07811023622048 />
<img src="imgs/image93.jpg" width=187.10740157480316 height=113.98023622047243 />
<img src="imgs/image94.png" width=148.22133858267716 height=109.28496062992126 />
---
<img src="imgs/image95.gif" width=337.3203149606299 height=70.78488188976378 />
<img src="imgs/image96.jpg" width=229.18417322834645 height=181.43748031496062 />
<img src="imgs/image97.png" width=167.99590551181103 height=110.37409448818897 />
<img src="imgs/image98.jpg" width=141.748031496063 height=141.748031496063 />
<img src="imgs/image99.png" width=272.15622047244096 height=50.621102362204724 />
<img src="imgs/image100.png" width=226.7968503937008 height=78.34803149606299 />
<img src="imgs/image101.jpg" width=136.07811023622048 height=136.07811023622048 />
<img src="imgs/image102.jpg" width=187.10740157480316 height=113.98023622047243 />
<img src="imgs/image103.png" width=148.22133858267716 height=109.28496062992126 />
 * Software
 * Languages
<img src="imgs/image104.png" width=81.56031496062992 height=56.818897637795274 />
---
## Programming the Turing Machine
Why aren’t we using tapes, states and transitions after all ?

<img src="imgs/image105.png" width=459.5618897637795 height=158.75779527559055 />
 * Distributed systems
 * Thousands of engineers/expertise
 * Web dev.
 * Large-scale systems
 * Critical Systems
<img src="imgs/image106.jpg" width=141.748031496063 height=141.748031496063 />
<img src="imgs/image107.png" width=272.15622047244096 height=50.621102362204724 />
<img src="imgs/image108.jpg" width=187.10740157480316 height=113.98023622047243 />
## Complex Systems
---
## Programming the Turing Machine
Why aren’t we using tapes, states and transitions after all ?

<img src="imgs/image109.png" width=334.52535433070864 height=115.56330708661417 />
<img src="imgs/image110.jpg" width=103.1815748031496 height=103.1815748031496 />
<img src="imgs/image111.png" width=198.10858267716534 height=36.84826771653543 />
<img src="imgs/image112.jpg" width=136.19968503937008 height=82.96874015748031 />
<img src="imgs/image113.jpg" width=344.13275590551183 height=215.45700787401574 />
## You cannot be serious
---
<img src="imgs/image114.png" width=715.5 height=543.0 />
## 	Formulas are Turing complete
---
<img src="imgs/image115.png" width=722.3196062992126 height=540.0 />
## 	Formulas are Turing complete
### http://fr.slideshare.net/Felienne/spreadsheets-are-code-online
## Youtube video https://t.co/RTfJAxXYaX
---
Esoteric programming languages
 * Designed to test the boundaries of computer programming language design, as a proof of concept, as software art, or as a joke. 
   * extreme paradigms and design decisions
   * Eg https://esolangs.org/wiki/Brainfuck
 * Usually, an esolang's creators do not intend the language to be used for mainstream programming.
---
(brainfuck)
What does it compute?
 * ++++++++++[>+++++++>++++++++++>+++<<<-]>++.>+.+++++++
 *  ..+++.>++.<<+++++++++++++++.>.+++.------.--------.>+.
---
# Questions to the audience
 * Why assembly language is not the mainstream language? 
 * Why spreadsheets are not used for building Google? 
 * Why esoteric languages are not used for mainstream programming?
 * The answer to such « though-provoking » questions seems obvious at first glance
   * Help to define the good properties of software languages we expect
   * Help to understand why there is still innovation in language design
---
## Programming the Turing Machine
Why aren’t we using tapes, states and transitions after all ?

<img src="imgs/image116.png" width=334.52535433070864 height=115.56330708661417 />
<img src="imgs/image117.jpg" width=103.1815748031496 height=103.1815748031496 />
<img src="imgs/image118.png" width=198.10858267716534 height=36.84826771653543 />
<img src="imgs/image119.jpg" width=136.19968503937008 height=82.96874015748031 />
## Software Languages
 * Hard to write and understand. 
 * No abstractions. 
 * Hard to debug and test.
 * Poor language constructs. Poor tooling support. 
 * Performance.
 * Usability, productivity, reusability, safety, expressiveness, learnability.
---
Question: what does it compute?
## Performance, usability, productivity, reusability, safety, expressiveness, learnability.
---
Qualities and challenges
 * Cognitive dimensions (see references after)
 * Abstractions
   * Eg Kramer “Abstraction and Modelling - A Complementary Partnership” MODELS’08
 * Separation of concerns/modularity 
   * Eg Tarr et al., ICSE’99
 * Scalability
   * Growing a language (like Scala)
 * Performance
 * …
---
<img src="imgs/image120.gif" width=337.3203149606299 height=70.78488188976378 />
<img src="imgs/image121.jpg" width=229.18417322834645 height=181.43748031496062 />
<img src="imgs/image122.png" width=167.99590551181103 height=110.37409448818897 />
<img src="imgs/image123.jpg" width=141.748031496063 height=141.748031496063 />
<img src="imgs/image124.png" width=272.15622047244096 height=50.621102362204724 />
<img src="imgs/image125.png" width=226.7968503937008 height=78.34803149606299 />
<img src="imgs/image126.jpg" width=136.07811023622048 height=136.07811023622048 />
<img src="imgs/image127.jpg" width=187.10740157480316 height=113.98023622047243 />
<img src="imgs/image128.png" width=148.22133858267716 height=109.28496062992126 />
# Languages
<img src="imgs/image129.png" width=81.56031496062992 height=56.818897637795274 />
# Complex Systems
<img src="imgs/image130.jpg" width=90.71874015748031 height=68.03905511811024 />
---
# We need languages
 * At a high level of abstraction
   * Still general-purpose 
   * Generation of other artefacts written in other languages
   * Transformation, refinement 
 * Multiplicity of languages
   * Divide and conquer
   * Specific to a problem or “domain”
   * Induce a way to “compose” languages
   * (Combemale et al. “On the Globalization of Domain-Specific Languages”)
---
<img src="imgs/image131.png" width=626.4862992125984 height=253.1003937007874 />
 * “Even variations in grammar can profoundly affect how we see the world.”
 * She’s talking about real languages; what about synthetic, programming languages? 
---
# What is a language?
 * « A system of signs, symbols, gestures, or rules used in communicating »
 * « The special vocabulary and usages of a scientific, professional, or other group »
 * « A system of symbols and rules used for communication with or between computers. »
---
Architecture
<img src="imgs/image132.jpg" width=356.93425196850393 height=230.72653543307086 />
<img src="imgs/image133.jpg" width=410.25 height=212.25 />
<img src="imgs/image134.jpg" width=116.52385826771653 height=208.96614173228346 />
# Architecture
---
Cartography
<img src="imgs/image135.jpg" width=527.1408661417323 height=271.46385826771655 />
<img src="imgs/image136.png" width=238.55275590551182 height=238.55275590551182 />
# Cartography
---
Biology
<img src="imgs/image137.png" width=278.0844094488189 height=362.87496062992125 />
<img src="imgs/image138.png" width=97.39858267716535 height=100.37858267716535 />
<img src="imgs/image139.png" width=139.0244881889764 height=142.52929133858268 />
<img src="imgs/image140.png" width=330.6005511811024 height=234.9003937007874 />
# Biology
---
Electronics
<img src="imgs/image141.png" width=375.0 height=193.5 />
<img src="imgs/image142.jpg" width=238.5 height=162.0 />
<img src="imgs/image143.png" width=117.75 height=93.75 />
<img src="imgs/image144.png" width=71.25 height=82.5 />
<img src="imgs/image145.png" width=159.0 height=151.5 />
# Electronics
---
# In Software Engineering
## « Languages are the primary way in which system developers communicate, design and implement software systems » 
---
<img src="imgs/image146.gif" width=337.3203149606299 height=70.78488188976378 />
<img src="imgs/image147.jpg" width=229.18417322834645 height=181.43748031496062 />
<img src="imgs/image148.png" width=167.99590551181103 height=110.37409448818897 />
<img src="imgs/image149.jpg" width=141.748031496063 height=141.748031496063 />
<img src="imgs/image150.png" width=272.15622047244096 height=50.621102362204724 />
<img src="imgs/image151.png" width=226.7968503937008 height=78.34803149606299 />
<img src="imgs/image152.jpg" width=136.07811023622048 height=136.07811023622048 />
<img src="imgs/image153.jpg" width=187.10740157480316 height=113.98023622047243 />
<img src="imgs/image154.png" width=148.22133858267716 height=109.28496062992126 />
 * General Purpose 
 * Languages
 * Assembly ?
 * COBOL ? LISP ? C ? C++ ? 
 * Java? PHP ? C# ? Ruby ?
---
## Limits of General Purpose Languages (1)
Abstractions and notations used are not natural/suitable for the stakeholders 
<img src="imgs/image155.jpg" width=251.99653543307087 height=141.748031496063 />
<img src="imgs/image156.png" width=382.6796850393701 height=287.00976377952753 />
<img src="imgs/image157.jpg" width=82.61228346456693 height=141.73173228346457 />
<img src="imgs/image158.jpg" width=174.32031496062993 height=136.57377952755905 />
---
Not targeted to a particular kind of problem, but to any kinds of software problem.
<img src="imgs/image159.jpg" width=294.835905511811 height=294.835905511811 />
<img src="imgs/image160.jpg" width=334.52535433070864 height=280.861968503937 />
## Limits of General Purpose Languages (2)
---
 * Targeted to a particular kind of problem, with dedicated notations (textual or graphical), support (editor, checkers, etc.)
 * Promises: more « efficient » languages for resolving a set of specific problems in a domain
<img src="imgs/image161.jpg" width=289.1659842519685 height=242.77897637795274 />
## Domain Specific Languages 
---
## A discussable view 
(slide “OptiML…” Sujeeth et al., ICML’11)
<img src="imgs/image162.png" width=646.3710236220472 height=415.9357480314961 />
---
 * Long history: used for almost as long as computing has been done. 
 * You’re using DSLs in a daily basis
 * You’ve learnt many DSLs in your curriculum
 * Examples to come! 
## Domain Specific Languages (DSLs)
---
# HTML
Domain: web (markup)
<img src="imgs/image163.png" width=720.0 height=194.26740157480316 />
---
# CSS
Domain: web (styling)
<img src="imgs/image164.png" width=720.0 height=339.2117322834646 />
---
# SQL
Domain: database (query)
<img src="imgs/image165.png" width=466.89582677165356 height=330.27700787401574 />
---
# Makefile
Domain: software building
<img src="imgs/image166.jpg" width=510.29291338582675 height=378.7507874015748 />
---
# Lighthttpd configuration file
Domain: web server (configuration)
<img src="imgs/image167.png" width=648.8066141732284 height=334.98165354330706 />
---
# Graphviz
Domain: graph (drawing)
<img src="imgs/image168.png" width=345.25244094488187 height=294.835905511811 />
<img src="imgs/image169.png" width=358.88251968503937 height=313.79220472440943 />
---
# PGN (Portable Game Notation)
Domain: chess (games)
<img src="imgs/image170.png" width=507.6664566929134 height=232.4667716535433 />
<img src="imgs/image171.png" width=218.82826771653544 height=238.13669291338582 />
---
# Regular expression
Domain: strings (pattern matching)
<img src="imgs/image172.png" width=705.8651968503937 height=90.85393700787401 />
---
# Question to the audience
## Give three examples of domain-specific languages (DSLs)
---
Domain: model management
 * self.questions->size 
 * self.employer->size
 * self.employee->select (v | v.wages>10000 )->size
 * Student.allInstances
 *   ->forAll( p1, p2 | 
 *             p1 <> p2 implies p1.name <> p2.name )
# OCL
---
UML can be seen as a collection of domain-specific modeling languages
<img src="imgs/image173.png" width=415.67267716535434 height=215.45700787401574 />
<img src="imgs/image174.png" width=258.45220472440946 height=243.80661417322835 />
<img src="imgs/image175.png" width=387.4179527559055 height=203.3944094488189 />
<img src="imgs/image176.gif" width=229.74377952755904 height=152.01952755905512 />
<img src="imgs/image177.png" width=365.03251968503935 height=180.69110236220473 />
<img src="imgs/image178.png" width=302.36913385826773 height=149.67275590551182 />
<img src="imgs/image179.gif" width=370.0 height=76.0 />
<img src="imgs/image180.gif" width=209.78708661417323 height=109.59023622047243 />
<img src="imgs/image181.gif" width=306.1757480314961 height=161.04047244094488 />
#  Behavioral
# Structural
---
 * Problem
 * Space
 * Solution
 * Space
## Assembler
## C, Java
## DSLs
# Abstraction Gap
---
 * « Another lesson we should have learned from the recent past is that the development of 'richer' or 'more powerful' programming languages was a mistake in the sense that these baroque monstrosities, these conglomerations of idiosyncrasies, are really unmanageable, both mechanically and mentally. 
 * I see a great future for very systematic and very modest programming languages »
 * ACM Turing Lecture, « The Humble Programmer » Edsger W. Dijkstra
## aka General-Purpose Languages
---
<img src="imgs/image182.png" width=720.0 height=170.52629921259842 />
## « Domain-specific languages are far more prevalent than anticipated »
---
<img src="imgs/image183.jpg" width=200.0 height=248.0 />
<img src="imgs/image184.jpg" width=408.4720472440945 height=540.0 />
---
What is a domain-specific language ?
 * « Language specially designed to perform a task in a certain domain »
 * « A formal processable language targeting at a specific viewpoint or aspect of a software system. Its semantics and notation is designed in order to support working with that viewpoint as good as possible »
 * « A computer language that's targeted to a particular kind of problem, rather than a general purpose language that's aimed at any kind of software problem. »
---
 * A GPL provides notations that are used to describe a computation in a human-readable form that can be translated into a machine-readable representation.
 * A GPL is a formal notation that can be used to describe problem solutions in a precise manner.
 * A GPL is a notation that can be used to write programs.
 * A GPL is a notation for expressing computation.
 * A GPL is a standardized communication technique for expressing instructions to a computer. It is a set of syntactic and semantic rules used to define computer programs.
# GPL (General Purpose Language)
---
What is offered?
## Promises of domain-specific languages
---
## Promises of domain-specific languages
---
General PLs vs Domain-SLs
<img src="imgs/image185.png" width=72.36133858267716 height=72.36133858267716 />
The boundary isn’t as clear as it could be. Domain-specificity is not black-and-white, but instead gradual: a language is more or less domain specific
<img src="imgs/image186.png" width=720.0 height=220.13173228346457 />
# GeneralPL vs DomainSL
---
 * Promises of DSL« improvement » in terms of
   * usability, learnability, expressiveness, reusability, etc. 
 * Empirical study on the role of syntax
   * C-style syntax induces problems in terms of usability for novices; language more or less intuitive for (non-)programmers (Stefik et al. 2014)
   * Syntax issues with Java for students (Denny et al. 2011)
   * PL usability: method namings/placement, use of identifiers, API design (Ellis et al., Styllos et al., Clarke, Montperrus et al., etc.)
 * More specialized/sophicated tools/IDE can be derived from a DSL
   * editors, compilers, debuggers
## Specializing syntax and environment pays off?
---
# Question to the audience
 * Take one  DSL and formulate assumptions on their qualities (and superiority to a GPL-based solution)
 * Imagine an experience for providing evidence that the DSL has such qualities
---
External DSLs vs Internal DSLs
 * An external DSL is a completely separate language and has its own custom syntax/tooling support (e.g., editor) 
 * An internal DSL is more or less a set of APIs written on top of a host language (e.g., Java). 
   * Fluent interfaces
---
## External vs Internal DSL (SQL example)
<img src="imgs/image187.png" width=588.218031496063 height=225.51488188976379 />
<img src="imgs/image188.png" width=507.87275590551184 height=221.12692913385825 />
---
Internal DSL (LINQ/C# example)
<img src="imgs/image189.png" width=711.0 height=250.0 />
<img src="imgs/image190.jpg" width=114.53244094488188 height=147.4179527559055 />
---
Internal DSL
 * « Using a host language (e.g., Java) to give the host language the feel of a particular language. » 
 * Fluent Interfaces
   * « The more the use of the API has that language like flow, the more fluent it is »
<img src="imgs/image191.png" width=532.4862992125984 height=204.14811023622048 />
<img src="imgs/image192.png" width=198.44724409448818 height=86.4036220472441 />
---
## SQL in… Java
DSL in GPL
---
## Regular expression in… Java
DSL in GPL
---
Internal DSLs vs External DSL
 * Both internal and external DSLs have strengths and weaknesses 
   * learning curve, 
   * cost of building, 
   * programmer familiarity, 
   * communication with domain experts, 
   * mixing in the host language, 
   * strong expressiveness boundary
 * Focus of the course
   * external DSL a completely separate language with its own custom syntax and tooling support (e.g., editor)
---
# Question to the audience
# Find a DSL that is both internal and external
---
HTML
 * External DSL: <html>….
 * Internal DSLs
   * LISP
   * Scala (XML support included in the language)
<img src="imgs/image193.png" width=423.04173228346457 height=209.78708661417323 />
---
<img src="imgs/image194.png" width=423.04173228346457 height=209.78708661417323 />
<img src="imgs/image195.png" width=685.9804724409449 height=77.27448818897638 />
<img src="imgs/image196.png" width=720.0 height=100.96212598425197 />
<img src="imgs/image197.png" width=626.4862992125984 height=85.42992125984252 />
<img src="imgs/image198.png" width=361.7051968503937 height=245.95952755905512 />
https://github.com/julienrf/glitter
### TCS Wyvern (Omar et al., OOPLSA’14)
### Scala
---
# SQL
<img src="imgs/image199.wmf" width=676.0 height=417.0 />
---
# Homework
---
# Homework
 * Jhipster (http://www.jhipster.tech/), let us consider the “last” version (November 5, 2018)
 * How many languages are used in such a contemporary project? 
 * List all software languages used in Jhipster
 * Classify them (GPL? External DSL? Internal DSL?)
 * Don’t forget APIs that look like (internal) DSLs
 * https://tinyurl.com/jhipster-IL-langs1819
 * (expand/modify the sheet; deadline: next course) 
---
References
 * Martin Fowler. Domain Specific Languages. Addison-Wesley Professional, 2010.
 * Markus Voelter et al. “DSL Engineering: Designing, Implementing and Using Domain-Specific Languages.” dslbook.org, 2013.
   * Kramer “Abstraction and Modelling - A Complementary Partnership” MODELS’08
 * Tarr et al. “N Degrees of Separation: Multi-Dimensional Separation of Concerns” ICSE’99
 * Benoit Combemale, Julien Deantoni, Benoit Baudry, Robert France, Jean-Marc Jézéquel, and Jeff Gray. « Globalizing Modeling Languages.” Computer, 2014.
---
References
 * Leo A Meyerovich and Ariel S Rabkin. “Empirical analysis of programming language adoption” OOPSLA’13
 * Felienne Hermans, Martin Pinzger, and Arie van Deursen. “Domain-Specific languages in practice: A user study on the success factors.“ MODELS’09
 * Paul Denny, Andrew Luxton-Reilly, Ewan Tempero, and Jacob Hendrickx. “Understanding the syntax barrier for novices.” ITiCSE ’11
 * Tiark Rompf et al . “Optimizing Data Structures in High-Level Programs: New Directions for Extensible Compilers based on Staging” POPL’13
	
---
References
 * Mathieu Acher, Benoît Combemale, Philippe Collet: “Metamorphic Domain-Specific Languages: A Journey into the Shapes of a Language.” Onward! 2014
 * Jeffrey Stylos and Brad A. Myers. “The implications of method placement on api learnability” FSE’08
 * Martin Monperrus, Michael Eichberg, Elif Tekes, and Mira Mezini. “What Should Developers Be Aware Of? An Empirical Study on the Directives of API Documentation”. Empirical Software Engineering, 17(6):703–737, 2012.
---
# Plan
 * Domain-Specific Languages (DSLs)
   * Languages and abstraction gap
   * Examples and rationale
   * DSLs vs General purpose languages, taxonomy
 * External DSLs
   * Grammar and parsing
   * Xtext
 * DSLs, DSMLs, and (meta-)modeling
---
# Contract
 * Better understanding/source of inspiration of software languages and DSLs
   * Revisit of history and existing languages
 * Foundations and practice of Xtext
   * State-of-the-art language workbench (Most Innovative Eclipse Project in 2010, mature and  used in a variety of industries)
 * Models and Languages
   * Perhaps a more concrete way to see models, metamodels and MDE (IDM in french)
---
